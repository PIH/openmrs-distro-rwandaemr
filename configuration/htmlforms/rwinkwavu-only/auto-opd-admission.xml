<htmlform
        htmlformUuid="9a9f857b-52d4-46d9-b4e4-8e331b165186"
        formUuid="21a24ab4-13dd-4e37-9b0c-34475b4f3f33"
        formName="Auto OPD Admission"
        formDescription="Auto OPD Admission"
        formVersion="1.0"
        formEncounterType="59115c60-d329-4f88-a2d1-d9fce967869e"
        formPublished="true"
        formRetired="false"
>
    <!-- Autogenerated example form  (template from 01-Nov-2010 -->
    <macros>
        paperFormId = (Fill this in)
        headerColor =#009d8e
        fontOnHeaderColor = white

    </macros>
    <script type="text/javascript">
        beforeSubmit.push(function() {
            var c = confirm('Do you want to submit? If yes, Confirm with OK. If No, click on Cancel');
        if(c)
        {
        return true;
        }
        else
        {
        return false;
        }
            
        });
    </script>
    <style>
        form fieldset {
        display: block;
        }

        .family-history-item .label {
        display: inline-block;
        width: 250px;
        }
        .family-history-item .relative {
        display: inline-block;
        width: 120px;
        }

        .section-header {
        margin-top: 1.5em;
        }

        .past-medical-history-item {
        }

        .past-medical-history-item input[type=checkbox] {
        float: none;
        vertical-align: middle;
        }

        .past-medical-history-item input[type=text] {
        min-width: 200px;
        display: inline !important;
        vertical-align: middle;
        padding: 1px 10px;
        }

        .past-medical-history-item > span, .past-medical-history-item > label {
        display: inline !important;
        vertical-align: middle;
        }

        .two-columns {
        column-count: 2;
        -webkit-column-count: 2;
        -moz-column-count: 2;
        }

        p.radio > * {
        display: inline;
        float: none !important;
        min-width: initial;
        }

        .section-container {
        background: #F2F2F2;
        box-shadow: 3px 3px 3px 1px rgba(0, 0, 0, 0.2);
        padding: 10px 5px 10px 15px;
        line-height: 1.5em; /*add this for vertical spacing between elements*/
        }

        .section-container-color {
        background: #F2F2F2;
        box-shadow: 3px 3px 3px 1px rgba(0, 0, 0, 0.2);
        padding: 10px 5px 10px 15px;
        line-height: 1.5em; /*add this for vertical spacing between elements*/
        }

        .section-container input[type="checkbox"] {
        margin: 0px 5px; /*changed values to vertical, horizontal*/
        top:5px; /*added to offset the checkbox position to line up*/
        }

        .section-container label { /*new definition to override labels inside section-containers*/
        margin: 0px;
        }

        - .section {
        width: 100%;
        }
    </style>
    <script type="text/javascript">
        if(jQuery){
        $j(document).ready(function(){
        $j(".checkboxGroup").each(function(){
        var group = $j(this);
        var uncheckAll = function(){
        group.find("input[type$='checkbox']").attr("checked",false);
        group.find("input[type$='checkbox']").change();
        }
        var uncheckRadioAndAll = function(){
        group.find("#checkboxAll,#checkboxRadio").find("input[type$='checkbox']").attr("checked",false);
        group.find("#checkboxAll,#checkboxRadio").find("input[type$='checkbox']").change();
        }
        group.find("#checkboxRadio").find("input[type$='checkbox']").click(function(){
        uncheckAll();
        $j(this).siblings("input[type$='checkbox']").attr("checked",false);
        $j(this).attr("checked",true);
        $j(this).change();
        });
        });
        });
        }
    </script>
    <span style="float:right"></span>
    <h2>OPD Admission</h2>

    <postSubmissionAction class="org.openmrs.module.mohbilling.automation.CreateOPDAdmissionOnHtmlFormSubmissionAction"/>
    <postSubmissionAction class="org.openmrs.module.mohbilling.automation.CreateBillOnHtmlFormSubmissionAction"/>


    <section sectionTag="fieldset" headerTag="legend" headerStyle="title"
             headerCode="GENERAL INFORMATION">
        <div class="section-container">
            <table border="2" cellpadding="6" cellspacing="0" width="100%">
                <tr>
                    <td>
                        <b>
                            <u>Patient:</u>
                        </b>
                        <lookup expression="patient.personName"/>
                        <br/>
                        <b>Id Number:</b>
                        <lookup expression="patient.patientIdentifier.identifier"/>
                        <br/>
                        {
                        <b>Sex:</b>
                        <font color="blue">
                            <lookup expression="patient.gender"/>
                        </font>
                        <b>Age:</b>
                        <font color="blue">
                            <lookup expression="patient.age"/>
                        </font>
                        <b>Education Level:</b>
                        <font color="blue">
                            <lookup expression="personAttributes.get('Education Level')"/>
                        </font>
                        <b>Religion:</b>
                        <font color="blue">
                            <lookup expression="personAttributes.get('Religion')"/>
                        </font>
                        <b>Profession:</b>
                        <font color="blue">
                            <lookup expression="personAttributes.get('Profession')"/>
                        </font>
                        <b>Phone number:</b>
                        <font color="blue">
                            <lookup expression="personAttributes.get('Phone number')"/>
                        </font>
                        <b>Insurance:</b> <font color="green">
                        <lookup expression="fn.latestObs(6741).getValueText()"/>(Reg. Date:<lookup expression="fn.latestObs(6741).obsDatetime"/>)</font>
                        }
                    </td>
                </tr>
            </table>
            <table border="2" cellpadding="6" cellspacing="0" width="100%">
                <tr>
                    <td>
                        Date:
                        <encounterDate default="today"/>
                    </td>
                    <td>
                        Health Facility:
                        <encounterLocation default="GlobalProperty:billing.defaultLocation" />

                    </td>
                    <td>
                        Provider:
                        <encounterProvider default="currentUser"/>
                    </td>
                </tr>
            </table>
        </div>

        <!--      <table>-->
        <!--        <tr>-->
        <!--          <td class="lblcolor">Temperature</td>-->
        <!--          <td>  <font color="red">-->
        <!--  <lookup expression="fn.latestObs(5088).getValueNumeric()"/>-->
        <!--  </font>-->
        <!--          </td>-->
        <!--        </tr>-->
        <!--        <tr>-->
        <!--          <td class="lblcolor">Weight:</td>-->
        <!--          <td>  <font color="red">-->
        <!--  <lookup expression="fn.latestObs(5089).getValueNumeric()"/>-->
        <!--  </font>-->
        <!--          </td>-->
        <!--        </tr>-->
        <!--        <tr>-->
        <!--          <td class="lblcolor">Height:</td>-->
        <!--          <td>   <font color="red">-->
        <!--  <lookup expression="fn.latestObs(5090).getValueNumeric()"/>-->
        <!--  </font>-->
        <!--          </td>-->
        <!--        </tr>-->
        <!--        <tr>-->
        <!--          <td class="lblcolor">SBP:</td>-->
        <!--          <td>  <font color="red">-->
        <!--  <lookup expression="fn.latestObs(5085).getValueNumeric()"/>-->
        <!--  </font>-->
        <!--          </td>-->
        <!--        </tr>-->
        <!--        <tr>-->
        <!--          <td class="lblcolor">DBP:</td>-->
        <!--          <td>  <font color="red">-->
        <!--  <lookup expression="fn.latestObs(5086).getValueNumeric()"/>-->
        <!--  </font>-->
        <!--          </td>-->
        <!--        </tr>-->
        <!--        <tr>-->
        <!--          <td class="lblcolor">Pulse:</td>-->
        <!--          <td>  <font color="red">-->
        <!--  <lookup expression="fn.latestObs(5087).getValueNumeric()"/>-->
        <!--  </font>-->
        <!--          </td>-->
        <!--        </tr>-->
        <!--        <tr>-->
        <!--          <td class="lblcolor">O2 Saturator:</td>-->
        <!--          <td>  <font color="red">-->
        <!--  <lookup expression="fn.latestObs(5092).getValueNumeric()"/>-->
        <!--  </font>-->
        <!--          </td>-->
        <!--        </tr>-->
        <!--        <tr>-->
        <!--          <td class="lblcolor">CLINICAL IMPRESSION COMMENTS:</td>-->
        <!--          <td> <font color="red">-->
        <!--  <lookup expression="fn.latestObs(1364).getValueText()"/>-->
        <!--  </font>-->
        <!--          </td>-->
        <!--        </tr>-->
        <!--        <tr>-->
        <!--          <td class="lblcolor">RECOMMENDATIONS:</td>-->
        <!--          <td> <font color="red">-->
        <!--  <lookup expression="fn.latestObs(1391).getValueText()"/>-->
        <!--  </font>-->
        <!--          </td>-->
        <!--        </tr>-->
        <!--      </table>-->
    </section>
    <!--    <section headerLabel="RESIDENCE:">-->
    <!--      <table border="1" cellpadding="6" cellspacing="0" width="100%">-->
    <!--        <tr>-->
    <!--          <td rowspan="3">-->
    <!--  <addressHierarchyRwanda/>-->
    <!--  <br/>-->
    <!--          </td>-->
    <!--        </tr>-->
    <!--      </table>-->
    <!--    </section>-->
    <section sectionTag="fieldset" headerTag="legend" headerStyle="title"
             headerCode="ADMISSION INFO">
        <!--        <tr>-->
        <!--          <td class="lblcolor">-->
        <!--  <b>Is addmitted?</b>-->
        <!--  </td>-->
        <!--          <td>-->
        <!--  <obs answerConceptIds="3cd6f600-26fe-102b-80cb-0017a47871b2,3cd6f86c-26fe-102b-80cb-0017a47871b2" conceptId="4d0122e4-4292-4e1b-9286-f8aeba686f1d" required="true"/>-->
        <!--  </td>-->
        <!--        </tr>-->
        <div class="section-container">
            <p>
                <label>
                    <b>Desease Type:</b>
                </label>
                <obs conceptId="90029723-7058-40bd-b20a-e369524cb355" required="true"/>
            </p>
            <p>
                <label>
                    <b>Consultation Type</b>
                </label>
                <obs conceptId="d6dafc4b-9ad8-4467-94a9-0eca78648254" required="true"/>
            </p>
            <p>
                <label>
                    <b>Department</b>
                </label>
                <obs conceptId="c920931b-fa93-4e99-9e36-28e1e4c16cf7" required="true"/>
            </p>
        </div>

    </section>

    <!--    <section headerLabel="ADMISSION INFO">-->
    <!--      <table class="baseline-aligned">-->
    <!--        <tr>-->
    <!--          <td class="lblcolor">-->
    <!--  <b>Hospitalisation__________</b>-->
    <!--  </td>-->
    <!--          <td>-->
    <!--  <obs answerConceptIds="fff2ed9d-3835-4299-b7a8-89b3945f4c07,47a206ab-6ce8-48e9-83ad-d076cb151889,ae6e54a3-d344-408c-9b95-c85ee7d72582,470f56f5-83a5-4cb2-a9ba-8714d585b63d,10f7ceb6-9a61-4374-80d4-70b0560eb84e" conceptId="3168fee2-92aa-451b-b143-e46b56fe1e6f" required=""/>-->
    <!--  </td>-->
    <!--        </tr>-->
    <!--      </table>-->
    <!--    </section>-->

    <submit submitClass="confirm right" submitCode="uicommons.saveForm" />

    <ifMode mode="VIEW" include="false">
        <button class="cancel"><uimessage code="uicommons.cancelForm"/></button>
    </ifMode>
</htmlform>