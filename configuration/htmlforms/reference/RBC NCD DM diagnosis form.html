<htmlform> <!--
	   Oncology Clinical Intake Form
	   ClinicalIntake_ONCOLOGY_V1.3NT2012July4 copy
		Author:
		Builder: Jberchmas
		started on Sept 22, 2012
	-->

  <macros>
    @Report_Date@ = 2a1d545e-1167-4d07-b35b-12803e6197cc
    @Due_date@ = cf26022e-dc33-49a3-99f7-7cb929f48b04
    @Glucose_test_method@ = f618591a-f334-4a5a-be26-0518871cd00f
    @Random_for_blood_glucose_test@ = d2d34adf-9f22-4897-97a1-dbbda02b19dd
    @Fasting_for_blood_glucose_test@ = 2effb850-0384-4a09-8ae0-a7b5f7e7289f
    @SERUM_GLUCOSE@ = 3cd4e194-26fe-102b-80cb-0017a47871b2
    @Blood_sugar_status@ = fd66cc68-084b-4f41-9d84-5d748bcd7d95
    @Blood_sugar_measure_taken@ = d5c48b7b-6e16-419f-be9c-08d2f37e55b1
    @HbA1c@ = 159644AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
    @HbA1c_status@ = 6c30c84e-bbf2-4776-8085-93a1002f6e68
    @initiated_oral_anti-diabetes_drugs@ = b3cd7ff1-c2ad-4a2c-9128-905d5935dea8
    @positive_for_DM_and_transferred_DH@ = 73f14da8-0f5e-45e9-a07e-ef1094c8be63

  </macros>

  <style>
        .sectionHeader {
        background-color: #009d8e;;
        color: white;
        display: block;
        padding: 2px;
        font-weight: bold;
        }

        th.tableHeader {
        background-color: #009d8e;
        color: #FFFFFF;
        font-size: 16px;
        text-align: left;
        }

        ul {
        list-style-type: square;
        font-family: Verdana, Arial, Helvetica, sans-serif;
        font-size: 11px;
        }

        tr.spaceUnder>td {
        padding-bottom: 1em;
        }

        td {
        font-size: 15px;
        }

        #container {
        
        margin: auto;
        
        height: auto;
        }

        @media print {
        #container {
        display: block;
        }
        #printArea {
        display: none;
        }
        #userBar {
        display: none;
        }
        #banner {
        display: none;
        }
        #footer {
        display: none;
        }
        #htmlFormEntryBanner {
        display: none;
        }
        .error {
        display: none;
        }
        .lables {
        width: 200px;
        }
        table {
        width: 100%;
        }
        table,td,th {
        border: 1px solid black;
        border-collapse: collapse;
        }
        th {
        text-align: left;
        background-color: #D9D9D9;
        font-size: 10px;
        }
        td {
        font-size: 10px;
        }
        .value {
        font-size: 20px;
        font-weight: bold;
        font-style: italic;
        }
        .selectedCancerStagingKeys {
        page-break-before: always;
        border: 0px;
        }
        table.selectedCancerStagingKeys td {
        border: 0px;
        }
        #signature {
        border: none;
        }
        #signature td {
        border: none;
        }
        }

        @media screen {
        table {
        border: 1px solid #DFDFDF;
        width: 100%;
        border-color: #009d8e;
        }
        #container {
        display: block;
        }
        #printArea {
        display: none;
        }
        }
    </style>
  <script>
	$j(document).ready(function() {
		$j("#hideHIV").click(function() {
			$j(".hiv").hide();
			$j('.hiv input[type="text"]').val('');
			$j('.hiv').find('input[type=checkbox]:checked').removeAttr('checked');
                        $j(".hivstatus").hide();
			$j('#checkthis3').find('input[type=checkbox]:checked').removeAttr('checked');
                        $j('#checkthis2').find('input[type=checkbox]:checked').removeAttr('checked');
                        $j("#checkthis1 input").attr('checked','checked');
		});
		$j("#showHIV").click(function() {
			$j(".hiv").show();
                        $j(".hivstatus").show();
                        $j('#checkthis1').find('input[type=checkbox]:checked').removeAttr('checked');
		});
		$j("#showAllergies").click(function() {
			$j(".allergies").show();
		});
		$j("#hideAllergies1").click(function() {
			$j(".allergies").hide();
		});
		$j("#hideAllergies2").click(function() {
			$j(".allergies").hide();
		});


                getField('pastCancerDiagnosis.value').change(function() {
                 var checkNonCoded= $j("#pastCancerDiagnosis  option:selected").text();
              if( checkNonCoded == "OTHER NON-CODED") {
			getField('otherNonCoded.value')[0].disabled = false;
		} else {
			getField('otherNonCoded.value')[0].disabled = true;
		}
    });
getField('causeNonCoded1.value')[0].disabled = true;
     getField('cause1.value').change(function() {
                 var checkcauseNonCoded1= $j("#cause1  option:selected").text();
              if( checkcauseNonCoded1 == "OTHER NON-CODED") {
			getField('causeNonCoded1.value')[0].disabled = false;
		} else {
			getField('causeNonCoded1.value')[0].disabled = true;
		}
    });
     getField('causeNonCoded2.value')[0].disabled = true;
     getField('cause2.value').change(function() {
                 var checkcauseNonCoded2= $j("#cause2  option:selected").text();
              if( checkcauseNonCoded2 == "OTHER NON-CODED") {
			getField('causeNonCoded2.value')[0].disabled = false;
		} else {
			getField('causeNonCoded2.value')[0].disabled = true;
		}
    });

      getField('causeNonCoded3.value')[0].disabled = true;
     getField('cause3.value').change(function() {
                 var checkcauseNonCoded3= $j("#cause3  option:selected").text();
              if( checkcauseNonCoded3 == "OTHER NON-CODED") {
			getField('causeNonCoded3.value')[0].disabled = false;
		} else {
			getField('causeNonCoded3.value')[0].disabled = true;
		}
    });


 getField('reactionNonCoded1.value')[0].disabled = true;
     getField('reaction1.value').change(function() {
                 var checkreactionNonCoded1= $j("#reaction1  option:selected").text();
              if( checkreactionNonCoded1 == "OTHER NON-CODED") {
			getField('reactionNonCoded1.value')[0].disabled = false;
		} else {
			getField('reactionNonCoded1.value')[0].disabled = true;
		}
    });

getField('reactionNonCoded2.value')[0].disabled = true;
     getField('reaction2.value').change(function() {
                 var checkreactionNonCoded2= $j("#reaction2  option:selected").text();
              if( checkreactionNonCoded2 == "OTHER NON-CODED") {
			getField('reactionNonCoded2.value')[0].disabled = false;
		} else {
			getField('reactionNonCoded2.value')[0].disabled = true;
		}
    });

getField('reactionNonCoded3.value')[0].disabled = true;
     getField('reaction3.value').change(function() {
                 var checkreactionNonCoded3= $j("#reaction3  option:selected").text();
              if( checkreactionNonCoded3 == "OTHER NON-CODED") {
			getField('reactionNonCoded3.value')[0].disabled = false;
		} else {
			getField('reactionNonCoded3.value')[0].disabled = true;
		}
    });

	});





</script> <script>
	$j(function() {
		$j('.disdiv').find('input').attr('disabled', 'true');
		$j(".hiv").hide();
                 $j(".hivstatus").hide();
		$j('#textareadisabled').find('input, textarea, button, select').attr('disabled','true');
		$j('#disabledConcept').find('input, textarea, button, select').attr('disabled','true');
		$j(".allergies").hide();
                getField('otherNonCoded.value')[0].disabled = true;
	});

</script> <script type="text/javascript">
	if (jQuery) {
		$j(document)
				.ready(
						function() {
							if ($j.browser.msie) {
								$j(":checkbox").click(function() {
									$j(this).change();
								});
							}
							$j(".enableDisable").each(
									function() {
										var group = $j(this);
										function disableFn() {
											group.children("#disabled").fadeTo(
													250, 0.33);
											group.children("#disabled").find(
													":checkbox").attr(
													"checked", false); //uncheck
											group.children("#disabled").find(
													"input[type$='text']").val(
													"");
											group.children("#disabled").find(
													"input").attr("disabled",
													true); //disable
										}
										function enableFn() {
											group.children("#disabled").fadeTo(
													250, 1);
											group.children("#disabled").find(
													"input").attr("disabled",
													false);
										}
										disableFn();
										$j(this).children("#trigger").find(
												":checkbox:first").change(
												function() {
													var checked = $j(this)
															.attr("checked");
													if (checked == true) {
														enableFn();
													} else {
														disableFn();
													}
												});
									});

							$j(".checkboxGroup")
									.each(
											function() {
												var group = $j(this);
												var uncheckAll = function() {
													group
															.find(
																	"input[type$='checkbox']")
															.attr("checked",
																	false);
													group
															.find(
																	"input[type$='checkbox']")
															.change();
												}
												var uncheckRadioAndAll = function() {
													group
															.find(
																	"#checkboxAll,#checkboxRadio")
															.find(
																	"input[type$='checkbox']")
															.attr("checked",
																	false);
													group
															.find(
																	"#checkboxAll,#checkboxRadio")
															.find(
																	"input[type$='checkbox']")
															.change();
												}

												group
														.find("#checkboxAll")
														.find("input")
														.click(
																function() {
																	var flip;
																	var checked = $j(
																			this)
																			.siblings(
																					":checkbox:first")
																			.attr(
																					"checked");
																	if ($j(this)
																			.attr(
																					"name") == $j(
																			this)
																			.parents(
																					"#checkboxAll:first")
																			.find(
																					":checkbox:first")
																			.attr(
																					"name")) {
																		checked = $j(
																				this)
																				.attr(
																						"checked");
																		flip = checked;
																	} else {
																		flip = !checked;
																	}
																	if ($j(this)
																			.attr(
																					"type") == "text")
																		if (flip == false)
																			flip = !filp; // this is so the user doesn't go to check the checkbox, then uncheck it when they hit the input.
																	uncheckAll();
																	$j(this)
																			.parents(
																					"#checkboxAll:first")
																			.find(
																					":checkbox")
																			.attr(
																					"checked",
																					flip);
																	$j(this)
																			.parents(
																					"#checkboxAll:first")
																			.find(
																					":checkbox")
																			.change();
																});

												group
														.find("#checkboxRadio")
														.find(
																"input[type$='checkbox']")
														.click(
																function() {
																	uncheckAll();
																	$j(this)
																			.siblings(
																					"input[type$='checkbox']")
																			.attr(
																					"checked",
																					false);
																	$j(this)
																			.attr(
																					"checked",
																					true);
																	$j(this)
																			.change();
																});

												group
														.find(
																"#checkboxCheckbox")
														.click(
																function() {
																	uncheckRadioAndAll();
																});
											});
						});
	}
</script>


<form>
  <section>
    <table border="1" cellspacing="0" cellpadding="6" width="100%">
      <tr>
        <td>
          <b>
            IMB ID: <lookup class="value"
                            expression="patientIdentifiers.get(&quot;IMB ID&quot;)" />
            <br/>
            <!--                        IMB Primary Care Registration ID:-->
            <!--                        <lookup-->
            <!--                                class="value"-->
            <!--                                expression="patientIdentifiers.get(&quot;IMB Primary Care Registration ID&quot;)" />-->
            <!--                        <br/>-->
            <!--                        OpenClinic ID:-->
            <!--                        <lookup class="value"-->
            <!--                                expression="patientIdentifiers.get(&quot;OpenClinic ID&quot;)" />-->
            <!--                        <br/>-->
            <!--                        ARCHIVING ID:-->
            <!--                        <lookup class="value"-->
            <!--                                expression="patientIdentifiers.get(&quot;ARCHIVING ID&quot;)" />-->
            <!--                        <br/>-->
            Rwanda National ID:
            <lookup class="value"
                    expression="patientIdentifiers.get(&quot;Rwanda National ID&quot;)" />
          </b>

        </td>
        <td>Date: <encounterDate id="encounterDate" default="today" />
        </td>
      </tr>
      <tr>
        <td>Nom / Last name: <lookup class="value"
                                     expression="patient.personName.familyName" />
        </td>
        <td>Prénom/ First name: <lookup class="value"
                                        expression="patient.personName.givenName" />
        </td>
      </tr>
      <tr>
        <td> Gender: <lookup class="value" expression="patient.gender"/> </td>
        <td> Date Of Birth: <lookup class="value" expression="patient.birthdate"/> </td>
      </tr>
      <tr>
        <td><img src="/openmrs/moduleResources/rwandareports/images/rwanda-logo.jpg" align="left"
                 height="65" ></img>
          <b>REPUBLIC OF RWANDA
            <br />MINISTRY OF HEALTH</b>
        </td>
        <td ><strong>
          NCD DM diagnosis Confirmation
        </strong> </td>
      </tr>
      <tr>
        <td>Location Name: <encounterLocation
                id="encounterLocation" />
        </td>
        <td>Provider:<encounterProvider id="encounterProvider"
                                        default="currentUser"/>
        </td>

      </tr>
    </table>
  </section>
  <section >
    <h3 class="language en">Timeline Data Entry</h3>
<!--    <h3 class="language kiny">Igihe amakuru yafatiwe</h3>-->
    <table class="form-group" border="1">
      <tr>
        <td>
          <label class="font-normal language en"> <strong> Report date:  </strong> </label>
<!--          <label class="font-normal language kiny"> <strong> Italiki umurwayi yaziyeho kwa muganda:  </strong> </label>-->
        </td>

        <td>
<!--          <label class="font-normal">-->
<!--            <input class="form-control datepicker" id="obs.reportDate" name="obs.reportDate" type="text"-->
<!--                   data-concept="2a1d545e-1167-4d07-b35b-12803e6197cc^Report Date^99DCT" readonly="readonly"/>-->
            <!--                 data-concept="e2c70f0a-8bb3-4d84-8436-f1f54646030b^Report Date^99DCT" readonly="readonly"/>-->
            <obs id="obs.reportDate" name="obs.reportDate" conceptId="$@Report_Date@" allowFutureDates="true"/>
<!--          </label>-->
        </td>
      </tr>
      <tr>
        <td>
          <label class="font-normal language en"> <strong> Due date:  </strong> </label>
<!--          <label class="font-normal language kiny"> <strong> Italiki ntarengwa:  </strong> </label>-->
        </td>
        <td>
<!--          <label class="font-normal">-->
<!--            <input class="form-control datepicker future-or-today-date" id="obs.dueDate" name="obs.dueDate" type="text"-->
<!--                   data-concept="cf26022e-dc33-49a3-99f7-7cb929f48b04^Due date^99DCT" readonly="readonly"/>-->
            <obs id="obs.dueDate" name="obs.dueDate" conceptId="$@Due_date@" allowFutureDates="true"/>
<!--          </label>-->
        </td>
      </tr>
    </table >
    <h3 class="language en"> <strong>Measurement HF</strong> </h3>
<!--    <h3 class="language kiny"> <strong>Ibipimo byo kwa muganga</strong> </h3>-->
    <table border="1">
      <tr>
        <td>
          <label class="font-normal"> <strong> Glucose test method :  </strong> </label>
<!--          <label class="font-normal" class="language kiny"> <strong> Uburyo ibipimo by'isukari byafashwe :  </strong> </label>-->
        </td>
        <td>
          <obs name="GlucoseTestMethod" conceptId="$@Glucose_test_method@" answerConceptIds="$@Random_for_blood_glucose_test@,$@Fasting_for_blood_glucose_test@" answerLabels="Random,fasting" style="radio"/>
        </td>
      </tr>
      <tr>
        <td>
          <label class="font-normal"> <strong> Blood sugar (mg/dl):  </strong> </label>
<!--          <label class="font-normal" class="language kiny"> <strong> Ingano yisukari mumaraso (mg/dl):  </strong> </label>-->
        </td>
        <td>
          <obs id="BloodSugar" name="obs.BloodSugar" conceptId="$@SERUM_GLUCOSE@"/>
        </td>
      </tr>
      <tr>
        <td>
          <label class="font-normal" > <strong> Blood sugar status:  </strong> </label>
<!--          <label class="font-normal" class="language kiny"> <strong> Uko isukari ihagaze:  </strong> </label>-->
        </td>
        <td>
          <obs id="obs.BloodSugarStatusHF" name="obs.BloodSugarStatusHF" conceptId="$@Blood_sugar_status@"/>
        </td>
      </tr>
      <tr>
        <td>
          <label class="font-normal" > <strong> Blood sugar measure taken :  </strong> </label>
<!--          <label class="font-normal" class="language kiny"> <strong> Icyemezo kungano y'isukari :  </strong> </label>-->
        </td>
        <td>
          <obs id="obs.BSMeasureTaken" name="obs.BSMeasureTaken" conceptId="$@Blood_sugar_measure_taken@"/>
        </td>
      </tr>
      <tr>
        <td>
          <label class="font-normal language en"> <strong> HbA1C (glycated hemoglobin):  </strong> </label>
<!--          <label class="font-normal language kiny"> <strong> Ibipimo bya BbA1C bihagaze:  </strong> </label>-->
        </td>
        <td>
          <obs id="obs.HbA1C" name="obs.HbA1C" conceptId="$@HbA1c@"/>
        </td>
      </tr>
      <tr>
        <td>
          <label class="font-normal language en"> <strong> HbA1c status HF:  </strong> </label>
<!--          <label class="font-normal language kiny"> <strong> Uko HbA1C ihagaze kubipimo byo kwa muganga:  </strong> </label>-->
        </td>
        <td>
          <obs id="obs.HbA1cStatus" name="obs.HbA1cStatus" conceptId="$@HbA1c_status@"/>
        </td>
      </tr>
      <tr>
        <td>
          <label class="font-normal language en"> <strong> Initiated oral anti-diabetes drugs:  </strong> </label>
<!--          <label class="font-normal language kiny"> <strong> Hari imiti ya hiperitansiyo yahawe:  </strong> </label>-->
        </td>
        <td>
          <obs name="obs.initiatedAntiHTNDrugs" conceptId="$@initiated_oral_anti-diabetes_drugs@"/>
        </td>
      </tr>
      <tr>
        <td>
          <label class="font-normal language en"> <strong> Positive for DM and transferred DH:  </strong> </label>
<!--          <label class="font-normal language kiny"> <strong> Arwaye iperitansiyo cyangwa yahawe taransiferi:  </strong> </label>-->
        </td>
        <td>
          <obs name="obs.positiveForHTNAndTransferredDH" conceptId="$@positive_for_DM_and_transferred_DH@"/>
        </td>
      </tr>
    </table>
  </section>

  <br />
  <br />
  <submit />
  <br/>
  <br/>
  <br/>
  <br/>
  <encounterVoided/>
</form>
</htmlform>