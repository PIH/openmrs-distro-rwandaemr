<htmlform
        formDescription="HC OPD Admission and Consultation Form"
        formEncounterType="75caca4e-33ca-4b0a-aa63-5ed29f3000f0"
        formName="HC OPD Admission and Consultation Form"
        formPublished="true"
        formRetired="false"
        formUuid="b7abb0b2-1ae1-4689-91bf-98a1e559ae10"
        formVersion="1.0"
        htmlformUuid="0e1105ac-a61c-49f4-a2eb-c7c5d35354f4"
>
    <!-- Autogenerated example form  (template from 01-Nov-2010 -->
    <macros>
        paperFormId = (Fill this in)
        headerColor =#009d8e
        fontOnHeaderColor = white
        @patient_chronic_disease_history@ = e20ab8c4-bd53-4f9f-b2e1-04fe7cb667ea
        @HEART_FAILURE@ = 0670f6b9-5456-4bd3-86b1-846abc4fe2ba
        @HYPERTENSION@ = 3cd50188-26fe-102b-80cb-0017a47871b2
        @stroke@ = 111103AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
        @ASTHMA@ = 3ccc4bf6-26fe-102b-80cb-0017a47871b2
        @COPD@ = be7adab0-2ed5-44d7-972e-586911b08c8e
        @DIABETES_MELLITUS@ = 3cce629c-26fe-102b-80cb-0017a47871b2
        @TUBERCULOSIS@ = 3ccca7cc-26fe-102b-80cb-0017a47871b2
        @HIV@ = 3cd4dca8-26fe-102b-80cb-0017a47871b2
        @LIVER_FAILURE@ = 7018a636-4e28-4681-969d-9caf98178abb
        @Cancer@ = 22e045f9-a880-416f-a6b2-0e0706d585bf
        @Dialysis@ = 36200521-676e-48c8-a6f9-f101bf4a691b
        @chronical_kidney_disease@ = 8611a721-9f01-484d-9405-5d88efdd9ce7
        @Patient_Medical_History@ = 9090e8f8-54cd-4ed0-b994-1130afb384bd
        @OTHER_RELATIVE@ = 3ce18bec-26fe-102b-80cb-0017a47871b2
        @Other_disease_(text)@ = f9e8e946-d177-4ca9-8004-779ae6abe9df

        @Presumptive_diagnosis_or_Hypothesis@ =08dd5ecf-b381-47ea-a0f1-cd91a65505f7
        @Secondary_ICD_diagnosis@ = afb8006f-e7c4-45bd-82bd-16f6e4b4b51d
        @Primary_ICD_diagnosis@ = 2dce81f9-3874-4247-b441-6369ca0725c2

        @OUTPATIENT_DIAGNOSIS@ = f0230f4a-1b20-4a47-bce9-c5a9c01367ec
        @OUTPATIENT_DIAGNOSIS_NON-CODED@ = a72c0d52-f25c-40f9-a2c1-1cbef67e2731

        @SYMPTOM_PRESENT@ = 3cd95a58-26fe-102b-80cb-0017a47871b2
        @FUNCTIONAL_REVIEW_OF_SYMPTOMS_NON-CODED@ =  3ce141c8-26fe-102b-80cb-0017a47871b2
        @SYMPTOM_COMMENT@ = 3cdd258e-26fe-102b-80cb-0017a47871b2

    </macros>
    <style>
        .field-error {
        color: #ff6666;
        font-size: 1.1em;
        display: block;
        }

        form fieldset {
        display: block;
        }

        .family-history-item .label {
        display: inline-block;
        width: 250px;
        }

        .family-history-item .relative {
        display: inline-block;
        width: 120px;
        }

        .section-header {
        margin-top: 1.5em;
        }

        .past-medical-history-item {}

        .past-medical-history-item input[type=checkbox] {
        float: none;
        vertical-align: middle;
        }

        .past-medical-history-item input[type=text] {
        min-width: 200px;
        display: inline !important;
        vertical-align: middle;
        padding: 1px 10px;
        }

        .past-medical-history-item>span,
        .past-medical-history-item>label {
        display: inline !important;
        vertical-align: middle;
        }

        .two-columns {
        column-count: 2;
        -webkit-column-count: 2;
        -moz-column-count: 2;
        }

        .three-columns {
        column-count: 3;
        -webkit-column-count: 3;
        -moz-column-count: 3;
        }

        p.radio>* {
        display: inline;
        float: none !important;
        min-width: initial;
        }

        .section-container {
        background: #F2F2F2;
        box-shadow: 3px 3px 3px 1px rgba(0, 0, 0, 0.2);
        padding: 10px 5px 10px 15px;
        line-height: 1.5em;
        /*add this for vertical spacing between elements*/
        }

        .section-container-color {
        background: #F2F2F2;
        box-shadow: 3px 3px 3px 1px rgba(0, 0, 0, 0.2);
        padding: 10px 5px 10px 15px;
        line-height: 1.5em;
        /*add this for vertical spacing between elements*/
        }

        .section-container input[type="checkbox"] {
        margin: 0px 5px;
        /*changed values to vertical, horizontal*/
        top: 5px;
        /*added to offset the checkbox position to line up*/
        }

        .section-container label {
        /*new definition to override labels inside section-containers*/
        margin: 0px;
        }

        .section {
        width: 100%;
        }

        .div {
        float: left;
        }

        form input[type="radio"],
        .form input[type="radio"] {
        float: none;
        display: inline-block;
        }

        .side-by-side label {
        display: inline-block;
        }

        .date-one-line {
        display: flex;
        }

        .date-one-line label {
        align-self: center;
        margin-right: 1em;
        }

        .date-one-line span {
        display: flex;
        }

        .hasDatepicker {
        min-width: 120px;
        margin-top: 0px;
        }

        .hfe-hours,
        .hfe-minutes,
        .hfe-seconds {
        width: 70px;
        min-width: 70px;
        margin: 0px 10px 0px 10px;
        }

        .five-columns,
        .four-columns,
        .three-columns,
        .two-columns {
        display: table;
        height: 100%;
        width: 100%;
        }

        .two-columns>div {
        display: table-cell;
        width: 50%;
        }

        .three-columns>div {
        display: table-cell;
        width: 33%;
        }

        .four-columns>div {
        display: table-cell;
        width: 25%;
        }

        .five-columns>div {
        display: table-cell;
        width: 20%;
        }

        .small-input input {
        min-width: 5em;
        }

        .flexView {
        display: flex;
        }
    </style>

    <script type="text/javascript">
        if(jQuery){
        $j(document).ready(function(){
        $j(".checkboxGroup").each(function(){


        var group = $j(this);
        var uncheckAll = function(){
        group.find("input[type$='checkbox']").attr("checked",false);
        group.find("input[type$='checkbox']").change();
        }
        var uncheckRadioAndAll = function(){
        group.find("#checkboxAll,#checkboxRadio").find("input[type$='checkbox']").attr("checked",false);
        group.find("#checkboxAll,#checkboxRadio").find("input[type$='checkbox']").change();
        }
        group.find("#checkboxRadio").find("input[type$='checkbox']").click(function(){
        uncheckAll();
        $j(this).siblings("input[type$='checkbox']").attr("checked",false);
        $j(this).attr("checked",true);
        $j(this).change();
        });
        });
        });
        }
    </script>


    <h2>Health center OPD admission and consultation form</h2>

    <postSubmissionAction class="org.openmrs.module.mohbilling.automation.CreateOPDAdmissionOnHtmlFormSubmissionAction"/>
    <postSubmissionAction class="org.openmrs.module.mohbilling.automation.CreateBillOnHtmlFormSubmissionAction"/>



    <section sectionTag="fieldset" headerTag="legend" headerStyle="title" headerCode="GENERAL INFORMATION">
        <div class="section-container">


            <table border="2" cellspacing="0" cellpadding="6" width="100%">
                <tr>
                    <td>
                        Date:
                        <encounterDate default="today"/>
                    </td>
                    <td>
                        Health Facility:
                        <encounterLocation id="location" default="GlobalProperty:billing.defaultLocation" />
                    </td>
                    <td>
                        Provider:
                        <encounterProvider default="currentUser" />
                    </td>
                </tr>
            </table>
        </div>
    </section>
    <section sectionTag="fieldset" headerTag="legend" headerStyle="title" headerCode="ADMISSION INFO">
        <div class="section-container">
            <p class="flexView">
                <b>Insurance:</b> <font color="green">
                <lookup expression="fn.latestObs(6741).getValueText()"/>(Reg. Date:<lookup expression="fn.latestObs(6741).obsDatetime"/>)</font>
            </p>
            <p class="flexView">
                <b>Desease Type:</b><obs conceptId="90029723-7058-40bd-b20a-e369524cb355" required="true"/>
            </p>
            <p class="flexView">
                <b>Consultation Type:</b>
                <obs conceptId="d6dafc4b-9ad8-4467-94a9-0eca78648254" answerConceptIds="50596903-9f01-4627-9911-6bbd178790cd,29ce8244-5251-4c76-8e99-bbad280be2ef
              ,2554e8da-eed3-42c9-ada5-ae304b2b5587,b1ebf22b-1fa4-4538-8b07-abc33dd05ea8,433f21dc-c3be-4dc0-9e94-1ace7c8bcc66,8fee77af-6973-4e5b-b586-7a6c3ad5226b,59bb1a32-a36a-4766-b47c-eb9c580bb0ad,0d3517fd-891e-405d-b1d1-6669ad05aa9f,fecab067-fb65-4d0e-96bf-8c42dd123353,df54a8e3-cf9e-46c3-9efd-92bb5e4ef7f9,a9fc23ad-410a-4142-964b-21193ab1a8bd,50596903-9f01-4627-9911-6bbd178790cd,8bb801d8-48f8-4bbc-b3b0-3698ef1c03aa" required="true"/>
            </p>
            <p class="flexView">
                <b>Department:</b>
                <obs conceptId="aa7b8e25-f564-4d93-a262-93cd3d3a9e17" required="true"/>
            </p>
        </div>
    </section>

    <section sectionTag="fieldset" headerTag="legend" headerStyle="title" headerCode="MARITAL STATUS AND REGISTRATION STATUS">
        <div class="section-container">
            <p class="side-by-side">
                <b>Marital Status:</b>
                <obs conceptId="2e00481d-9e6e-4740-9dc0-ab6232dff21c" answerConceptIds="df488243-d1d5-4b50-ae04-40b4ffdcf934,3cee0aca-26fe-102b-80cb-0017a47871b2,3cd6e55c-26fe-102b-80cb-0017a47871b2,3cd6e6f6-26fe-102b-80cb-0017a47871b2,3cd6fac4-26fe-102b-80cb-0017a47871b2" answerLabels ="SINGLE,MARRIED,DIVORCED,WIDOWED,UNKOWN" style="radio"/>
            </p>
            <p class="side-by-side">
                <b>Statut d'enregistrement:</b>
                <obs conceptId="0f536e57-35a3-48f9-8f8b-d139a0651a5a" answerConceptIds="e807a44a-ffc1-4579-9f55-cdc718a97497,ccda042a-59d7-4d5c-bd93-db44f6dd62c3,f86e27f3-4823-4047-919a-d5e1d49fc984" answerCodes ="Referee,Self referral,Counter referee " style="radio"/>
            </p>
            <p class="side-by-side">
                <b>Transferd by CHW</b>
                <obs conceptId="b0ca1bcb-bff5-4ad0-adb7-dfb1cb221f2f" answerConceptIds="3cd6f600-26fe-102b-80cb-0017a47871b2,3cd6f86c-26fe-102b-80cb-0017a47871b2" answerCodes ="Yes,No" style="radio" required="true"/>
            </p>
        </div>
    </section>

    <section sectionTag="fieldset" headerTag="legend" headerStyle="title" headerCode="EMERGENCY CONTACT PERSON INFORMATION">
        <div class="section-container">
            <p class="flexView">
                <b>Emergency contact person names:</b>
                <obs conceptId="a7da2d17-0fc9-478e-8de9-2291f38b0989" LabelCode="" />
            </p>
            <p>
                <b>Emergency contact person phone number:</b>
                <obs conceptId="bcddbe7e-04dc-4494-a330-d5b54c4a4dd0" LabelCode="" />
            </p>

        </div>
    </section>

    <section sectionTag="fieldset" headerTag="legend" headerStyle="title" headerCode="HEALTH STATUS">
        <div class="section-container">
            <p class="side-by-side">
                <b> BLOOD GROUP</b>
                <obs conceptId="3ccf4090-26fe-102b-80cb-0017a47871b2" answerConceptIds="3cd392b2-26fe-102b-80cb-0017a47871b2,3cd39686-26fe-102b-80cb-0017a47871b2,3cd39988-26fe-102b-80cb-0017a47871b2,3cd39ca8-26fe-102b-80cb-0017a47871b2,3cd3a144-26fe-102b-80cb-0017a47871b2,3cd3a464-26fe-102b-80cb-0017a47871b2,3cd8f716-26fe-102b-80cb-0017a47871b2,3cd8f8b0-26fe-102b-80cb-0017a47871b2" answerCodes ="A+ ,A-, B+, B-,O+,O-,AB+,AB-," style="radio"/>
            </p>
        </div>
    </section>

    <section sectionTag="fieldset" headerTag="legend" headerStyle="title" headerCode="Present illness">
        <div class="section-container">

            <tr>
                <td><obs conceptId="3ce2b170-26fe-102b-80cb-0017a47871b2" style="textarea" rows="3" cols="30" labelCode="Cheif Complaints" /></td><br/>
                <td><obs conceptId="24aa74e0-a281-4031-8919-63f3eaf3a729" style="textarea" rows="3" cols="30" labelCode="History of Present illness"/></td>
            </tr>

        </div>
    </section>

    <section sectionTag="fieldset" headerTag="legend" headerStyle="title" headerCode="Past medical history:">
        <div class="section-container">
            <p class="side-by-side">
                Immunization VAT: <obs conceptId="cd7aad7c-311b-446f-b3ce-d9fdf63820ac" answerConceptIds="1107,54,11041,11042,11043,11044" answerLabels="NONE,T1,T2,T3,T4,T5" style="radio"  />
            </p>

            <includeIf velocityTest="$patient.gender == 'F' ">
                <p class="flexView small-input">
                    <label>Gynaecological History:</label>
                    <br/>
                    G:<obs conceptId="5ef4cb1e-ddf9-43f2-8ef0-d503a254bbac" style="text" />
                    P:<obs conceptId="3cd6dda0-26fe-102b-80cb-0017a47871b2" style="text" />
                    AV:<obs conceptId="6df78bbb-24a6-4a1d-af5a-3717ecbeb260" style="text" />
                    PD:<obs conceptId="776e2fd1-e3bf-4a82-92a4-68f83894eff9" style="text" />
                    LD:<obs conceptId="042f8447-16a8-4412-a0bb-6983d85339e6" style="text" />
                    AV:<obs conceptId="69b195fb-57f2-4778-af8b-6e9eee7f901a" style="text" />
                    AM:<obs conceptId="82843184-ed77-4a80-9dd9-783851866a68" style="text" /></p>
            </includeIf>

            <p class="flexView">
                <obs conceptId="acabf02b-a514-419d-af95-76217d1dd97d" labelCode="Psychosocial status" style="textarea" rows="3" cols="30"/>
            </p>
            <p class="flexView">
                <obs conceptId="ce576655-89ce-4972-9822-af177e0fce90" labelCode="Nutritional history" style="textarea" rows="3" cols="30"/>
            </p>
        </div>

    </section>

    <section sectionTag="fieldset" headerTag="legend" headerStyle="title" headerCode="Clinical Evaluation">
        <div class="section-container">
            <p>
                <b>Presumptive diagnosis:</b><br/>
                1. <obs  conceptId="$@Presumptive_diagnosis_or_Hypothesis@" required="true"  size="20" style="autocomplete" answerClasses="Diagnosis"/><br/>
                2. <obs  conceptId="$@Presumptive_diagnosis_or_Hypothesis@"  size="20" style="autocomplete" answerClasses="Diagnosis"                                                     /><br/>
                3. <obs  conceptId="$@Presumptive_diagnosis_or_Hypothesis@"  size="20" style="autocomplete" answerClasses="Diagnosis"
            />
            </p>


            <includeIf velocityTest="$patient.gender == 'F' ">
                <p class="radio">
                    <b>Pregnancy status:</b>
                    <obs conceptId="5272" style="radio"/>

                </p>
            </includeIf>
            <p class="side-by-side">
                <b>HIV Status:</b>
                <obs id="hiv_status" conceptId="3753" style="radio" required="true"/>

            </p>
            <p class="side-by-side">
                <b>STI Screening:</b>
                <obs conceptId="56218090-7172-4b34-9c62-c9787e1545a8" style="radio"
                     answers="Positive,Negative,Not done,Not applicable" required="true"/>

            </p>
            <p class="side-by-side">
                <b>Nutrition Screening:</b>
                <obs conceptId="1d8d253c-6ead-4cf7-88cc-1a8edbd03f6d" style="radio"
                     answers="Positive,Negative,Not done,Not applicable" required="true"/>

            </p>
            <p class="side-by-side">
                <b>NCDs Screening</b>
                <obs conceptId="38705de4-799c-4995-b006-9f845ac4d67b" style="radio"
                     answers="Positive,Negative,Not done,Not applicable" required="true"/>

            </p>
        </div>
    </section>
    <section sectionTag="fieldset" headerTag="legend" headerStyle="title" headerCode="Clinical summary:">
        <div class="section-container">
            <p>
                <obs conceptId="6602a73b-b8d3-40bc-bae8-f00ff3b9cceb" LabelCode="CLINICAL SUMMARY:" style="textarea" rows="3" cols="80" />
            </p>
            <p class="side-by-side">
                <b>Result/ Outcome:</b>
                <obs conceptId="9c789d40-b0d7-4357-983d-31abf7c07d05" answerConceptIds="02470b6a-3e12-4cc0-9e14-baefc4d534b8,3cda41f2-26fe-102b-80cb-0017a47871b2,27d81c72-0a68-4bcc-b7f8-142691d10d28,3cdd446a-26fe-102b-80cb-0017a47871b2,57378f81-8b81-4990-af5c-a77acea4d5e2" answerLabels="A,H,R,D,C" style="radio" required="false"/>
            </p>
        </div>
    </section>
    <!-- <section sectionTag="fieldset" headerTag="legend" headerStyle="title" headerCode="INVESTIGATION AND RESULTS:">
        <table>
            <tr>
                <td class="lblcolor">INVESTIGATION AND RESULTS:</td>
                <td><obs conceptId="6a329c3c-b15f-418d-b3d6-74e9b95b5d85" LabelCode="INVESTIGATION:" style="textarea" rows="3" cols="80" /></td>
            </tr>
        </table>
    </section> -->


    <ifMode mode="VIEW" include="false">
        <div id="buttons">

            <button id="submit" class="submitButton confirm right">
                <uimessage code="Save" /><i class="icon-spinner icon-spin icon-2x"
                                            style="display: none; margin-left: 10px;"></i>
            </button>
            <button id="cancel" type="button" class="cancel">
                <uimessage code="emr.cancel" />
            </button>
        </div>
    </ifMode>
</htmlform>